{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '43803068-e4e7e851cef47a5cf0e066a7d';\n\n export const fetchPhoto = (queryString = \"flower\") => {\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true,\n    per_page: 6,\n    q: queryString,\n  });\n\n  return fetch(\n    `${BASE_URL}?${searchParams}`\n  ).then(response => {\n      if (!response.ok) {\n          throw new Error(response.statusText);\n    }\n    return response.json();\n  });\n}\n","export const galleryMarkup = images => {\n  return images\n    .map(\n      ({ largeImageURL, webformatURL, tags, likes, views, comments, downloads }) =>\n        `<li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${largeImageURL}\">\n        <img\n          class=\"gallery-image\"\n          src=\"${webformatURL}\"\n          alt=\"${tags}\"\n        />\n      </a>\n      <div class=\"image-info\">\n        <span class=\"info-item\">Likes: ${likes}</span>\n        <span class=\"info-item\">Views: ${views}</span>\n        <span class=\"info-item\">Comments: ${comments}</span>\n        <span class=\"info-item\">Downloads: ${downloads}</span>\n      </div>\n    </li>`)\n    .join('');\n};\n\n","import { fetchPhoto } from \"./js/pixabay-api.js\"\nimport { galleryMarkup } from \"./js/render-functions.js\"\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst galleryEl = document.querySelector('.gallery');\nconst searchFormEl = document.querySelector('.myForm');\nconst loaderEl = document.querySelector('.loader');\n\nconst lightboxGallery  = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n});\n\nfunction onSearchFormSubmit(event) {\n    event.preventDefault();\n    const searchRequest = event.target.elements.textInput.value.trim();\n    if (searchRequest === \"\") {\n        galleryEl.innerHTML = \"\";\n        event.target.reset();\n        iziToast.error({\n            position: 'topRight',\n            class: 'error',\n            message: \"Please put your request\",\n            timeout: 2000,\n        });\n        return;\n    }   \n\n    galleryEl.innerHTML = \"\"\n    loaderEl.classList.remove('is-hidden')\n\n    fetchPhoto(searchRequest).then(imagesData => {\n\n        if (imagesData.total === 0) {\n             event.target.reset();\n            iziToast.error({\n            position: 'topRight',\n            class: 'error',\n            message: \"Sorry, there are no images matching your search query. Please try again!\",\n            timeout: 2000,\n});\n        }\n        galleryEl.innerHTML = galleryMarkup(imagesData.hits);\n        lightboxGallery.refresh();\n        event.target.reset();\n        loaderEl.classList.add('is-hidden')\n    })\n        .catch(error => console.log(error));\n}\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\n"],"names":["BASE_URL","API_KEY","fetchPhoto","queryString","searchParams","response","galleryMarkup","images","largeImageURL","webformatURL","tags","likes","views","comments","downloads","galleryEl","searchFormEl","loaderEl","lightboxGallery","SimpleLightbox","onSearchFormSubmit","event","searchRequest","iziToast","imagesData","error"],"mappings":"6vBAEA,MAAMA,EAAW,2BACXC,EAAU,qCAEFC,EAAa,CAACC,EAAc,WAAa,CACrD,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAKH,EACL,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACV,EAAGE,CACP,CAAG,EAED,OAAO,MACL,GAAGH,CAAQ,IAAII,CAAY,EAC/B,EAAI,KAAKC,GAAY,CACf,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,UAAU,EAEzC,OAAOA,EAAS,MACpB,CAAG,CACH,ECvBaC,EAAgBC,GACpBA,EACJ,IACC,CAAC,CAAE,cAAAC,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IACvE;AAAA,sCAC8BN,CAAa;AAAA;AAAA;AAAA,iBAGlCC,CAAY;AAAA,iBACZC,CAAI;AAAA;AAAA;AAAA;AAAA,yCAIoBC,CAAK;AAAA,yCACLC,CAAK;AAAA,4CACFC,CAAQ;AAAA,6CACPC,CAAS;AAAA;AAAA,UAE5C,EACL,KAAK,EAAE,ECXNC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAe,SAAS,cAAc,SAAS,EAC/CC,EAAW,SAAS,cAAc,SAAS,EAE3CC,EAAmB,IAAIC,EAAe,aAAc,CACtD,aAAc,MACd,aAAc,GAClB,CAAC,EAED,SAASC,EAAmBC,EAAO,CAC/BA,EAAM,eAAc,EACpB,MAAMC,EAAgBD,EAAM,OAAO,SAAS,UAAU,MAAM,OAC5D,GAAIC,IAAkB,GAAI,CACtBP,EAAU,UAAY,GACtBM,EAAM,OAAO,QACbE,EAAS,MAAM,CACX,SAAU,WACV,MAAO,QACP,QAAS,0BACT,QAAS,GACrB,CAAS,EACD,MACH,CAEDR,EAAU,UAAY,GACtBE,EAAS,UAAU,OAAO,WAAW,EAErCf,EAAWoB,CAAa,EAAE,KAAKE,GAAc,CAErCA,EAAW,QAAU,IACpBH,EAAM,OAAO,QACdE,EAAS,MAAM,CACf,SAAU,WACV,MAAO,QACP,QAAS,2EACT,QAAS,GACrB,CAAC,GAEOR,EAAU,UAAYT,EAAckB,EAAW,IAAI,EACnDN,EAAgB,QAAO,EACvBG,EAAM,OAAO,QACbJ,EAAS,UAAU,IAAI,WAAW,CAC1C,CAAK,EACI,MAAMQ,GAAS,QAAQ,IAAIA,CAAK,CAAC,CAC1C,CAEAT,EAAa,iBAAiB,SAAUI,CAAkB"}